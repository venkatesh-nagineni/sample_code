<ion-header>

  <ion-navbar mode="ios">
    <ion-title> {{addresstitle}} </ion-title>
  </ion-navbar>

</ion-header>

<ion-content>
  <div class="lieferform">
    <form [formGroup]="lieferform" *ngIf="lieferform">

      <ion-row *ngIf="!genderhide">
        <ion-item>
          <ion-label>Title</ion-label>
          <ion-select formControlName="gender1" [class.valid]="lieferform.controls.gender1.valid" [class.invalidtitle]="lieferform.controls.gender1.touched && lieferform.controls.gender1.invalid">
            <ion-option value="Herr">Herr</ion-option>
            <ion-option value="Frau">Frau</ion-option>
          </ion-select>
        </ion-item>
      </ion-row>

      <ion-row *ngIf="genderhide">
          <ion-item>
            <ion-label>Title</ion-label>
            <ion-select formControlName="gender" [class.valid]="lieferform.controls.gender.valid" [class.invalidtitle]="lieferform.controls.gender.touched && lieferform.controls.gender.invalid">
              <ion-option value="Herr">Herr</ion-option>
            <ion-option value="Frau">Frau</ion-option>
            </ion-select>
          </ion-item>
        </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label floating>Vorname*</ion-label>
            <ion-input formControlName="Vorname" type="text" [class.valid]="lieferform.controls.Vorname.valid" [class.invalid]="lieferform.controls.Vorname.touched && lieferform.controls.Vorname.invalid"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label floating>Name*</ion-label>
            <ion-input formControlName="Name" type="text" [class.valid]="lieferform.controls.Name.valid" [class.invalid]="lieferform.controls.Name.touched && lieferform.controls.Name.invalid"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label floating>Firma</ion-label>
            <ion-input formControlName="Firma" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label floating>Addresszusatz</ion-label>
            <ion-input formControlName="Addresszusatz" type="text"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label floating>Straße*</ion-label>
            <ion-input formControlName="Strasse" type="text" [class.valid]="lieferform.controls.Strasse.valid" [class.invalid]="lieferform.controls.Strasse.touched && lieferform.controls.Strasse.invalid"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label floating>Hausnummer*</ion-label>
            <ion-input formControlName="Hausnummer" type="text" [class.valid]="lieferform.controls.Hausnummer.valid" [class.invalid]="lieferform.controls.Hausnummer.touched && lieferform.controls.Hausnummer.invalid"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col col-4>
          <ion-item>
            <ion-label floating>PLZ*</ion-label>
            <ion-input formControlName="PLZ" type="text" [class.valid]="lieferform.controls.PLZ.valid" [class.invalid]="lieferform.controls.PLZ.touched && lieferform.controls.PLZ.invalid"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label floating>Ort*</ion-label>
            <ion-input formControlName="Ort" type="text" [class.valid]="lieferform.controls.Ort.valid" [class.invalid]="lieferform.controls.Ort.touched && lieferform.controls.Ort.invalid"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label floating>Telefon</ion-label>
            <ion-input formControlName="Telefon" type="text"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="!hidesomefields">
        <ion-col>
          <ion-item>
            <ion-label floating>Email*</ion-label>
            <ion-input formControlName="Email" email [class.valid]="lieferform.controls.Email.valid" [class.invalid]="lieferform.controls.Email.touched && lieferform.controls.Email.invalid"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="!hidesomefields">
        <ion-col>
          <ion-item>
            <ion-label floating>Email wiederholen*</ion-label>
            <ion-input formControlName="Email_repeat" email [class.valid]="lieferform.controls.Email_repeat.valid" [class.invalid]="lieferform.controls.Email_repeat.touched && lieferform.controls.Email_repeat.invalid"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="!hidesomefields">
        <ion-col>
          <ion-item>
            <ion-label floating>Kundennummer (wenn zur Hand)</ion-label>
            <ion-input formControlName="Kundennummer" type="text"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="!mangestatus">
        <ion-col>
          <ion-item>
            <ion-label floating>Menge*</ion-label>
            <ion-input formControlName="menge"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="mangestatus">
        <ion-col col-6>
          <ion-item>
            <ion-label floating>Menge*</ion-label>
            <ion-input #mangeinput formControlName="menge"  (keyup)="mangevalueupdate($event)" type="number" [class.valid]="lieferform.controls.menge.valid"
              [class.invalid]="lieferform.controls.menge.touched && lieferform.controls.menge.invalid"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-6 style="margin-top:22px;">
          <ion-item no-lines>
              <span><span [ngStyle]="mangestyle()">{{remainingmange | replaced}}</span> / {{noofliters | replaced}}</span>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="!hidesomefields">
        <ion-col>
          <ion-item>
            <ion-label floating>Zusatzliche Lieferhinweise an uns</ion-label>
            <ion-textarea formControlName="Zusatzliche"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-buttons end>
        <button ion-button round small color="danger" (click)="dismiss()" style="float: left">
          Abbrechen
        </button>
        <button *ngIf="!mangestatus" ion-button round small color="primary" (click)="singleliefersubmit(lieferform)">
          Bestätigen
        </button>
        <button *ngIf="mangestatus" ion-button round small color="primary" (click)="liefersubmit(lieferform)">
          Bestätigen
        </button>
      </ion-buttons>

    </form>
  </div>

</ion-content>
